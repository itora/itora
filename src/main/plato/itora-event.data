model com.github.itora.event

import java:java.time#Instant 
import java:com.github.itora.tx#TxId
import java:com.github.itora.account#Account
import java:com.github.itora.amount#Amount
import java:com.github.itora.crypto#Signature


type Event = OpenEvent | SendEvent | ReceiveEvent


type OpenEvent {
    val account: Account
    val pow: long
    val timestamp: Instant
}

type SendEvent {
    val previous: TxId
    val from: Account
    val to: Account
    val amount: Amount
    val pow: long
    val timestamp: Instant
}

type ReceiveEvent {
    val previous: TxId
    val source: TxId
    val pow: long
    val timestamp: Instant
}

type SignedEvent {
    val event: Event
    val signature: Signature
}


