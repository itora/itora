model com.github.itora.event

import java:java.time#Instant 
import java:com.github.itora.account#Account 
import java:com.github.itora.account#Amount 


type OpenEvent {
    val account: Account
    val pow: long
    val timestamp: Instant
    val signature: long
}

type SendEvent {
    val previous: BlockId
    val from: Account
    val to: Account
    val amount: Amount
    val pow: long
    val timestamp: Instant
    val signature: long
}

type ReceiveEvent {
    val previous: BlockId
    val source: BlockId
    val amount: Amount
    val pow: long
    val timestamp: Instant
    val signature: long
}


type Event = OpenEvent | SendEvent | ReceiveEvent

type BlockId {
  val hash: long
}

type Block {
  val hash: BlockId
  val event: Event
}